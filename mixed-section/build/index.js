!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=9)}([function(t,e){t.exports=window.wp.element},function(t,e){t.exports=window.wp.components},function(t,e){t.exports=window.wp.blockEditor},function(t,e){function s(){return t.exports=s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,s.apply(this,arguments)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=window.React},function(t,e){t.exports=window.wp.data},function(t,e){t.exports=window.wp.blocks},function(t,e){function s(){return t.exports=s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,s.apply(this,arguments)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,s){"use strict";s.r(e);var i=s(3),n=s.n(i),o=s(0),l=s(6),a=s(2),r=s(4),c=s.n(r),h=(s(7),s(8)),d=s.n(h),u=s(5),b=s(1);class p extends c.a.Component{constructor(t){super(t),d()(this,"createClassName",(t,e=null)=>["ncs4-section","ncs4-bp-content",e?"ncs4-bp-content__"+e:null].join(" ")+" "+t),this.attributes=t.attributes,this.blockProps=t.blockProps}sanitize_string(t){if("string"==typeof t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñçěščřžýúůďťň·/_,:;",s=0,i=e.length;s<i;s++)t=t.replace(new RegExp(e.charAt(s),"g"),"aaaaeeeeiiiioooouuuuncescrzyuudtn------".charAt(s));return t.replace(".","-").replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/\//g,"")}}render(){throw new Error("BPSection child has not implemented render()")}}class m extends p{constructor(t){super(t),this.setAttributes=t.setAttributes,this.clientId=t.clientId,this.getBlockList=this.getBlockList.bind(this),this.signalChildren=this.signalChildren.bind(this),this.updateChildrenTitles=this.updateChildrenTitles.bind(this),this.onWPData=this.onWPData.bind(this),this.updateInheritedTitle=this.updateInheritedTitle.bind(this),this.updateTitle=this.updateTitle.bind(this),this.setStateAttributes=this.setStateAttributes.bind(this),this.setShowTitle=this.setShowTitle.bind(this),this.setOptionCreateAnchor=this.setOptionCreateAnchor.bind(this),this.setAnchorSlug=this.setAnchorSlug.bind(this),this.state={title:this.attributes.title,inheritedTitle:this.attributes.inheritedTitle,showTitle:this.attributes.showTitle,optionCreateAnchor:this.attributes.optionCreateAnchor,anchorSlug:this.attributes.anchorSlug,blockList:this.getBlockList()}}componentDidMount(){document.addEventListener("sectionTitleUpdate_"+this.clientId,t=>{this.updateInheritedTitle(t.detail.title)}),document.addEventListener("requestTitle",t=>{let e=this.getBlockList();e.includes(t.detail.id)&&(this.signalChild("sectionTitleUpdate",{title:this.state.title||this.state.inheritedTitle},t.detail.id),this.setState({blockList:e}))}),wp.data.subscribe(this.onWPData),this.state.inheritedTitle||document.dispatchEvent(new CustomEvent("requestTitle",{detail:{id:this.clientId}}))}componentWillUnmount(){document.removeEventListener("sectionTitleUpdate_"+this.clientId,t=>{this.updateInheritedTitle(t.detail.title)})}getBlockList(){return Object(u.select)("core/block-editor").getBlockOrder(this.clientId)}signalChild(t,e,s){document.dispatchEvent(new CustomEvent(t+"_"+s,{detail:e}))}signalChildren(t,e){for(let s of Object(u.select)("core/block-editor").getBlockOrder(this.clientId))this.signalChild(t,e,s)}updateChildrenTitles(t){this.signalChildren("sectionTitleUpdate",{title:t})}onWPData(){let t=this.getBlockList();t!=this.state.blockList&&this.setState({blockList:t})}updateInheritedTitle(t){this.setState({inheritedTitle:t},()=>{this.setAttributes({inheritedTitle:t})}),this.state.title||this.updateChildrenTitles(t)}updateTitle(t){this.setState({title:t},()=>{this.setAttributes({title:t})}),t?this.updateChildrenTitles(t):this.updateChildrenTitles(this.state.inheritedTitle)}setStateAttributes(t){this.setState(t,()=>{this.setAttributes(t)})}setShowTitle(t){this.setStateAttributes({showTitle:t})}setOptionCreateAnchor(t){this.setStateAttributes({optionCreateAnchor:t})}setAnchorSlug(t){this.setStateAttributes({anchorSlug:t})}}class C extends m{constructor(t){super(t),this.attributes=t.attributes,this.setPro=this.setPro.bind(this),this.setCollege=this.setCollege.bind(this),this.setHs=this.setHs.bind(this),this.setMarathon=this.setMarathon.bind(this);let e=this.state;this.state={...e,isProChecked:t.attributes.isProChecked,isCollegeChecked:t.attributes.isCollegeChecked,isHsChecked:t.attributes.isHsChecked,isMarathonChecked:t.attributes.isMarathonChecked}}setPro(t){this.setStateAttributes({isProChecked:t})}setCollege(t){this.setStateAttributes({isCollegeChecked:t})}setHs(t){this.setStateAttributes({isHsChecked:t})}setMarathon(t){this.setStateAttributes({isMarathonChecked:t})}createClassName(t){return["ncs4-section"].join(" ")+" "+t}render(){return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",n()({},this.blockProps,{className:this.createClassName(this.blockProps.className)}),this.state.showTitle&&Object(o.createElement)(b.TextControl,{className:"ncs4-custom-blocks-mixed-section-title ncs4-custom-blocks-section-title",onChange:this.updateTitle,value:this.state.title,placeholder:this.state.inheritedTitle?this.state.inheritedTitle:"Section Title"}),Object(o.createElement)(a.InnerBlocks,null)),Object(o.createElement)(a.InspectorControls,null,Object(o.createElement)(b.PanelBody,{title:"General",initialOpen:!0},Object(o.createElement)(b.ToggleControl,{label:"Show section title",help:this.state.showTitle?"Section title shown":"Section title hidden",checked:this.state.showTitle,onChange:this.setShowTitle}),Object(o.createElement)(b.RadioControl,{label:"Generate section anchor",help:"When should a section anchor be generated",selected:this.state.optionCreateAnchor,options:[{label:"An anchor will be be generated when the section has a defined title (not inherited)",value:"inherit"},{label:"An anchor will always be generated",value:"enable"},{label:"An anchor will never be generated",value:"disable"}],onChange:this.setOptionCreateAnchor}),Object(o.createElement)(b.TextControl,{label:"Anchor slug",help:"Leave blank to use the section title (not inherited title)",placeholder:this.sanitize_string(this.state.title),value:this.state.anchorSlug,onChange:this.setAnchorSlug})),Object(o.createElement)(b.PanelBody,{title:"Industries",initialOpen:!0},Object(o.createElement)(b.CheckboxControl,{label:"Professional",help:"Should this display as Professional-related content?",checked:this.state.isProChecked,onChange:this.setPro}),Object(o.createElement)(b.CheckboxControl,{label:"Intercollegiate",help:"Should this display as Intercollegiate-related content?",checked:this.state.isCollegeChecked,onChange:this.setCollege}),Object(o.createElement)(b.CheckboxControl,{label:"Interscholastic",help:"Should this display as Interscholastic-related content?",checked:this.state.isHsChecked,onChange:this.setHs}),Object(o.createElement)(b.CheckboxControl,{label:"Marathon & Endurance Events",help:"Should this display as Marathon-related content?",checked:this.state.isMarathonChecked,onChange:this.setMarathon}))))}}class g extends p{constructor(t){super(t),this.classes="",this.attributes.isProChecked&&(this.classes+=" ncs4-bp-content__pro"),this.attributes.isCollegeChecked&&(this.classes+=" ncs4-bp-content__college"),this.attributes.isHsChecked&&(this.classes+=" ncs4-bp-content__hs"),this.attributes.isMarathonChecked&&(this.classes+=" ncs4-bp-content__marathon")}createClassName(t,e=!1,s=!1,i=!1,n=!1){return["ncs4-section",e?"ncs4-bp-content__pro":null,s?"ncs4-bp-content__college":null,i?"ncs4-bp-content__hs":null,n?"ncs4-bp-content__marathon":null].join(" ")+" "+t}render(){return Object(o.createElement)("div",{className:this.createClassName(this.blockProps.className,this.attributes.isProChecked,this.attributes.isCollegeChecked,this.attributes.isHsChecked,this.attributes.isMarathonChecked)},Object(o.createElement)("div",{className:"ncs4-custom-blocks-mixed-section-beam-area"},this.attributes.showTitle&&Object(o.createElement)("h6",{className:"ncs4-custom-blocks-mixed-section-title-area ncs4-custom-blocks-section-title-area"},this.attributes.title?Object(o.createElement)("span",{class:"section-title"},this.attributes.title):Object(o.createElement)("span",{class:"section-title_inherited"},this.attributes.inheritedTitle)),Object(o.createElement)("div",{className:"ncs4-custom-blocks-mixed-section-beam-area__inner"},this.attributes.isProChecked&&Object(o.createElement)("h6",{className:"ncs4-custom-blocks-mixed-section-beam ncs4-custom-blocks-mixed-section-beam__pro ncs4-bp-content ncs4-bp-content__pro"}),this.attributes.isCollegeChecked&&Object(o.createElement)("h6",{className:"ncs4-custom-blocks-mixed-section-beam ncs4-custom-blocks-mixed-section-beam__college ncs4-bp-content ncs4-bp-content__college"}),this.attributes.isHsChecked&&Object(o.createElement)("h6",{className:"ncs4-custom-blocks-mixed-section-beam ncs4-custom-blocks-mixed-section-beam__hs ncs4-bp-content ncs4-bp-content__hs"}),this.attributes.isMarathonChecked&&Object(o.createElement)("h6",{className:"ncs4-custom-blocks-mixed-section-beam ncs4-custom-blocks-mixed-section-beam__marathon ncs4-bp-content ncs4-bp-content__marathon"})))," ",("enable"==this.attributes.optionCreateAnchor||"inherit"==this.attributes.optionCreateAnchor&&this.attributes.title&&this.attributes.showTitle)&&this.attributes.anchorSlug?Object(o.createElement)("a",{id:this.sanitize_string(this.attributes.anchorSlug)}):Object(o.createElement)("a",{id:this.sanitize_string(this.attributes.title)}),Object(o.createElement)(a.InnerBlocks.Content,null))}}Object(l.registerBlockType)("ncs4-custom-blocks/mixed-section",{apiVersion:2,title:"Mixed Section",icon:"editor-table",category:"layout",attributes:{title:{type:"string",source:"text",selector:".section-title"},inheritedTitle:{type:"string"},showTitle:{type:"boolean",default:!0},optionCreateAnchor:{enum:["inherit","disable","enable"],default:"inherit"},anchorSlug:{type:"string"},isProChecked:{type:"boolean",default:!1},isCollegeChecked:{type:"boolean",default:!1},isHsChecked:{type:"boolean",default:!1},isMarathonChecked:{type:"boolean",default:!1}},edit:t=>Object(o.createElement)(C,n()({},t,{blockProps:Object(a.useBlockProps)()})),save:t=>Object(o.createElement)(g,n()({},t,{blockProps:a.useBlockProps.save()}))})}]);