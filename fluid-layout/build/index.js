!function(){"use strict";var e={};function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},t.apply(this,arguments)}e.n=function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,{a:l}),l},e.d=function(t,l){for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var l=window.wp.element,a=window.wp.blocks,n=window.wp.blockEditor,o=window.React,i=e.n(o),s=window.wp.components,r=window.wp.data;function u(e,t){return e&&t?"has-"+e+"-"+t:null}class p extends i().Component{render(){let e=this.props.label,t=(this.props.allowGradients,this.props.value),a=this.props.onChange,n=(0,r.select)("core/block-editor").getSettings();return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("p",null,e),(0,l.createElement)(s.ColorPalette,{colors:n.colors,disableCustomColors:n.disableCustomColors,value:t,onChange:e=>{let t=n.colors.filter((t=>t.color===e))[0];a({color:e,slug:t?t.slug:null})}}))}}function c(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class m extends i().Component{getChoices(e){let t=[];return e.forEach(((e,l)=>{t[l]={attribute:e.attribute,value:e.value||e.default}})),t}getChoice(e,t){for(let l of t)if(l.attribute===e)return l}render(){let e=this.props.maxRadioOptions||5,t=this.props.options,a=this.props.onChange,n=this.getChoices(t),o=[...Array(t.length).keys()].map((o=>(0,l.createElement)(h,{key:o,maxRadioOptions:e,label:t[o].label,help:t[o].help,choices:t[o].choices,multiple:t[o].multiple,invertValue:t[o].invertValue,min:t[o].min,max:t[o].max,step:t[o].step,markStep:t[o].markStep,markRender:t[o].markRender,tooltipRender:t[o].tooltipRender,value:this.getChoice(t[o].attribute,n).value,disabled:t[o].disabled,callback:e=>{"function"==typeof t[o].onChange&&(e=t[o].onChange(e)),a({[t[o].attribute]:e})}})));return(0,l.createElement)(l.Fragment,null,o)}}class h extends i().Component{render(){let e=this.props.maxRadioOptions,t=this.props.value,a=this.props.label,n=this.props.help,o=this.props.choices,i=this.props.min,r=this.props.max,u=this.props.step,p=this.props.markStep,c=this.props.markRender,m=this.props.tooltipRender,h=this.props.multiple,v=this.props.invertValue||!1,x=this.props.disabled,C=this.props.callback;return(0,l.createElement)(l.Fragment,null,Array.isArray(t)?(0,l.createElement)(d,this.props):o?h?(0,l.createElement)(b,{label:a,help:n,options:o,value:t,callback:C,disabled:x}):o.length<=e?(0,l.createElement)(s.RadioControl,{label:a,help:n,selected:t,onChange:C,options:o,disabled:x}):(0,l.createElement)(s.SelectControl,{label:a,help:n,value:t,onChange:C,options:o,disabled:x}):isNaN(i)||isNaN(r)||isNaN(u)?(0,l.createElement)(s.ToggleControl,{label:a,help:n,checked:v!=Boolean(t),onChange:e=>C(v!=e),disabled:x}):(0,l.createElement)(g,{label:a,help:n,value:t,min:i,max:r,step:u,markStep:p,markRender:c,tooltipRender:m,disabled:x,callback:C}))}}class d extends i().Component{getProps(e,t){var l={...e};for(let[e,a]of Object.entries(l))Array.isArray(a)&&(l[e]=a[t]);return l}render(){let e=this.props.value,a=this.props.callback,n=[...Array(e.length).keys()].map((n=>(0,l.createElement)(h,t({},this.getProps(this.props,n),{key:n,callback:t=>{let l=[...e];l[n]=t,a(l)}}))));return(0,l.createElement)(l.Fragment,null,n)}}class b extends i().Component{constructor(e){super(e),this.id="ncs4-components-checkboxgroup-"+String(document.getElementsByClassName("ncs4-components-checkboxgroup").length)}render(){let e=this.props.label,t=this.props.help,a=this.props.value,n=this.props.options,o=this.props.disabled,i=this.props.callback,r=[...Array(n.length).keys()].map((e=>(0,l.createElement)(s.CheckboxControl,{key:e,label:n[e].label,checked:a.includes(n[e].value),disabled:o,name:this.id,onChange:t=>{var l=[...a];if(t)l.push(n[e].value);else{let t=l.indexOf(n[e].value);t>-1&&l.splice(t,1)}i(l)}})));return(0,l.createElement)("div",{className:"ncs4-components-checkboxgroup"},(0,l.createElement)("label",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2",for:this.id},e),(0,l.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t),r)}}class g extends i().Component{createMarks(e,t,l,a){var n=Array(Math.floor((t-e)/l)+1);for(let t=0;t<n.length;t++)n[t]={value:e,label:a(e)},e+=l;return n}render(){let e=this.props.label,t=this.props.help,a=this.props.value,n=this.props.min,o=this.props.max,i=this.props.step||1,r=this.props.markStep||i,u=this.props.markRender||(e=>String(e)),p=this.props.disabled,c=this.props.tooltipRender||u,m=this.props.callback;return(0,l.createElement)(s.RangeControl,{label:e,help:t,value:a,min:n,max:o,step:i,marks:this.createMarks(n,o,r,u),renderTooltipContent:c,disabled:p,onChange:m})}}class v extends i().Component{clamp(e,t,l){return Math.min(Math.max(e,t),l)}getUnitSettings(e){for(let t of e.units)if(t.value===e.value)return t}render(){let e=this.props.label,a=this.props.help,n=this.props.disabled,o=this.props.onChange,i=this.props.toggleSelector,r=this.props.unitSelector,u=this.props.slider,p=i&&i.attribute,c=!i||i.value||i.default,m=r.value||r.default,d=isNaN(u.value)?u.default:u.value;(i&&void 0===i.value||void 0===r.value||isNaN(u.value))&&o({[p]:c,unit:m,value:d,asString:String(d)+m});let b=this.getUnitSettings(r);return(0,l.createElement)(l.Fragment,null,e&&(0,l.createElement)("p",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2"},e),(0,l.createElement)(s.PanelRow,null,p&&(0,l.createElement)(h,t({},i,{value:c,callback:e=>o({[p]:e,unit:m,value:d,asString:String(d)+m})})),(0,l.createElement)(h,t({},r,{multiple:!1,choices:r.units,disabled:n||!c,callback:e=>{let t={...r,value:e},l=this.getUnitSettings(t);o({[p]:c,unit:e,value:this.clamp(d,l.min,l.max),asString:this.clamp(d,l.min,l.max)+e})}}))),(0,l.createElement)(g,t({},u,{value:d,min:b.min,max:b.max,step:b.step,markStep:b.markStep||b.step,tooltipRender:e=>String(e)+(b.label||b.value),disabled:n||!c,callback:e=>o({[p]:c,unit:m,value:this.clamp(e,b.min,b.max),asString:this.clamp(e,b.min,b.max)+m})})),a&&(0,l.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},a))}}class x extends i().Component{validateNumber(e){return!Boolean(e)||x.reg.test(e)}render(){let e=this.validateNumber(this.props.value);return(0,l.createElement)(s.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e)},label:"Phone",help:e?null:"Unrecognized phone number format (perhaps you've made a typo?)"})}}c(x,"reg",/^(\+?[0-9]{1,4})?[ \-.]*[0-9]{3}[ \-.]*[0-9]{3}[ \-.]*[0-9]{4}$/);class C extends i().Component{validateEmail(e){return!Boolean(e)||C.reg.test(e)}render(){let e=this.validateEmail(this.props.value);return(0,l.createElement)(s.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e),this.validateEmail(e)&&this.props.onChangeComplete(e)},label:"Email",help:e?null:"Invalid email address"})}}c(C,"reg",/^(?:[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-zA-Z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);class f extends i().Component{render(){let e=this.props.attributes,a=e.bgColor.slug?null:e.bgColor.color,o=e.textColor.slug?null:e.textColor.color,i=this.props.backend||!1,s=function(e){let t={};for(let l of e){if(!l.color)continue;let e=l.color.slug?null:l.color.color;for(let a of l.props)t[a]=e}return t}([{color:e.bgColor,props:["background-color","--palette-bg-color"]},{color:e.textColor,props:["color","--palette-color"]}]),r={...s,"--vertical-align":e.optionVerticalAlign||null,"--min-width":e.minWidth.asString,"--max-width":e.maxWidth.useMaxWidth?e.maxWidth.asString:null,"--columns":e.numColumns+";","--column-size":e.optionColSize,backgroundColor:a,"--palette-bg-color":a,color:o,"--palette-color":o,textAlign:e.alignment&&"none"!=e.alignment?e.alignment:null,padding:e.padding.join("rem ")+"rem",margin:e.margin.join("rem ")+"rem",gap:e.rowGap+"rem "+e.columnGap+"rem",justifyContent:e.optionJustify};return(0,l.createElement)("div",t({},this.props.blockProps,{className:["ncs4-fluid-layout",u(e.bgColor.slug,"background-color"),u(e.textColor.slug,"color"),"ncs4-fluid-layout__"+e.optionLayout,e.useMaxWidth?"has-max-width":null,this.props.blockProps.className].join(" "),style:r}),i?(0,l.createElement)(n.InnerBlocks,{allowedBlocks:this.props.allowed_inner_blocks}):(0,l.createElement)(n.InnerBlocks.Content,null))}}let y=["ncs4-custom-blocks/fluid-layout-item"],k=.5,S=[{value:"%",label:"%",min:0,max:100,step:1,markStep:10},{value:"vw",label:"vw",min:0,max:100,markStep:10},{value:"ch",label:"ch",min:10,max:50,step:5},{value:"em",label:"em",min:0,max:100,markStep:10},{value:"rem",label:"rem",min:10,max:100,markStep:10}],E=["equal-grid","equal-columns","floated-image","inline-block"],w=["fixed-grid","fixed-columns"],A=[{value:"equal-grid",label:"Equal Grid"},{value:"equal-columns",label:"Equal Columns"},{value:"auto-grid",label:"Auto Grid"},{value:"fixed-columns",label:"Fixed Columns"},{value:"floated-image",label:"Floated Image"},{value:"inline-block",label:"Inline Block"}],W=[{value:"space-around",label:"Space Around"},{value:"space-between",label:"Space Between"},{value:"space-evenly",label:"Space Evenly"},{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"normal",label:"None"}],R=[{value:"1fr",label:"Equal Width"},{value:"auto",label:"Auto Width"}];class P extends i().Component{constructor(e){super(e),this.attributes=e.attributes,this.setAttributes=e.setAttributes,this.setStateAttributes=this.setStateAttributes.bind(this),this.updateState=this.updateState.bind(this),this.state={bgColor:this.attributes.bgColor,textColor:this.attributes.textColor,alignment:this.attributes.alignment,padding:this.attributes.padding,margin:this.attributes.margin,optionLayout:this.attributes.optionLayout,minWidth:this.attributes.minWidth,maxWidth:this.attributes.maxWidth,rowGap:this.attributes.rowGap,columnGap:this.attributes.columnGap,optionJustify:this.attributes.optionJustify,numColumns:this.attributes.numColumns,optionColSize:this.attributes.optionColSize,optionVerticalAlign:this.attributes.optionVerticalAlign}}setStateAttributes(e){this.setState(e,(()=>{this.setAttributes(e)}))}updateState(e){this.setStateAttributes(e)}render(){let e=this.props.blockProps;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(f,{blockProps:e,attributes:this.state,backend:!0,allowed_inner_blocks:y}),(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(s.PanelBody,{title:"Color",initialOpen:!1},(0,l.createElement)(p,{label:"Background color",value:this.state.bgColor.color,onChange:e=>{this.setStateAttributes({bgColor:e})}}),(0,l.createElement)(p,{label:"Text color",value:this.state.textColor.color,onChange:e=>{this.setStateAttributes({textColor:e})}})),(0,l.createElement)(s.PanelBody,{title:"Layout Settings",initialOpen:!0},(0,l.createElement)(m,{options:[{attribute:"optionLayout",label:"Layout Type",value:this.state.optionLayout,choices:A}],onChange:this.updateState}),"inline-block"===this.state.optionLayout&&(0,l.createElement)(M,{vAlign:this.state.optionVerticalAlign,onChange:e=>this.setStateAttributes({optionVerticalAlign:e})}),E.includes(this.state.optionLayout)&&(0,l.createElement)(v,{label:"Maximum width settings",help:"The max width that the entire content block can have",toggleSelector:{attribute:"useMaxWidth",label:"Use max width",help:this.state.maxWidth.useMaxWidth?"The block has a max width":"The block will take up as much space as possible",value:this.state.maxWidth.useMaxWidth},unitSelector:{label:"Units",value:this.state.maxWidth.unit,units:S},slider:{label:"Max width",value:this.state.maxWidth.value},onChange:e=>{this.setStateAttributes({maxWidth:e})}}),(0,l.createElement)(v,{label:"Minimum width settings",help:"The minimum width the content block can have",unitSelector:{label:"Units",value:this.state.minWidth.unit,units:S},slider:{label:"Min width",value:this.state.minWidth.value},onChange:e=>{this.setStateAttributes({minWidth:e})}}),w.includes(this.state.optionLayout)&&(0,l.createElement)(m,{options:[{attribute:"numColumns",label:"Columns",value:this.state.numColumns,min:2,max:10},{attribute:"optionColSize",label:"Column Width",value:this.state.optionColSize,choices:R}],onChange:this.updateState}),(0,l.createElement)(m,{options:[{attribute:"optionJustify",label:"Justify items",value:this.state.optionJustify,choices:W}],onChange:this.updateState})),(0,l.createElement)(s.PanelBody,{title:"Spacings",initialOpen:!0},(0,l.createElement)(m,{options:[{attribute:"rowGap",label:"Row Gap (rem)",value:this.state.rowGap,min:0,max:5,step:k},{attribute:"columnGap",label:"Column Gap (rem)",value:this.state.columnGap,min:0,max:5,step:k},{attribute:"padding",label:["Padding Top (rem)","Padding Right (rem)","Padding Bottom (rem)","Padding Left (rem)"],value:this.state.padding,min:0,max:5,step:k,tooltipRender:e=>String(e)+"rem"},{attribute:"margin",label:["Margin Top (rem)","Margin Right (rem)","Margin Bottom (rem)","Margin Left (rem)"],value:this.state.margin,min:0,max:5,step:k,tooltipRender:e=>String(e)+"rem"}],onChange:this.updateState}))),(0,l.createElement)(n.BlockControls,null,(0,l.createElement)(n.AlignmentToolbar,{value:this.state.alignment,onChange:e=>this.setStateAttributes({alignment:void 0===e?"none":e})})))}}function M(e){let t=[{label:"Top",value:"top"},{label:"Middle",value:"middle"},{label:"Bottom",value:"bottom"}],a=!t.map((e=>e.value)).includes(e.vAlign),[n,o]=i().useState(e.vAlign);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.RadioControl,{options:[...t,{label:"Custom",value:"custom"}],selected:a?"custom":n,label:"Vertical align",help:"How items should be aligned vertically with one another",onChange:t=>{"custom"===t?(o(""),e.onChange("")):(o(t),e.onChange(t))}}),(0,l.createElement)(s.TextControl,{value:a?n:"",disabled:!a,help:"Custom vertical align code",onChange:t=>{o(t),e.onChange(t)}}))}(0,a.registerBlockType)("ncs4-custom-blocks/fluid-layout",{apiVersion:2,title:"Fluid Layout",icon:"columns",category:"layout",attributes:{bgColor:{type:"object",default:{color:null,slug:null}},textColor:{type:"object",default:{color:null,slug:null}},alignment:{type:"string",default:"none"},padding:{type:"array",default:[0,0,0,0]},margin:{type:"array",default:[3,3,3,3]},optionLayout:{type:"string",default:"equal-grid"},minWidth:{type:"object",default:{value:0,unit:"%",asString:"0%"}},maxWidth:{type:"object",default:{useMaxWidth:!1,value:0,unit:"%",asString:"0%"}},rowGap:{type:"number",default:3},columnGap:{type:"number",default:3},optionJustify:{type:"string",default:"space-around"},numColumns:{type:"number",default:3},optionColSize:{type:"string",default:"1fr"},optionVerticalAlign:{type:"string",default:""}},edit:e=>(0,l.createElement)(P,t({},e,{blockProps:(0,n.useBlockProps)()})),save:e=>(0,l.createElement)(f,t({},e,{blockProps:n.useBlockProps.save()}))})}();