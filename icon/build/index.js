!function(e){var t={};function s(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=8)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.React},function(e,t){function s(){return e.exports=s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,s.apply(this,arguments)}e.exports=s,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=function(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.blocks},function(e,t,s){"use strict";s.r(t);var a=s(3),n=s.n(a),l=s(0),r=s(7),o=s(4),i=s(2),c=s.n(i),p=s(1);function u(e){return Object(l.createElement)(l.Fragment,null,e.useInlineSvg?Object(l.createElement)("div",{dangerouslySetInnerHTML:{__html:e.img.data}}):Object(l.createElement)("embed",{type:e.img.mime,src:e.img.url}))}const m=e=>({marginLeft:"left"==e.align?0:"auto",marginRight:"right"==e.align?0:"auto"});function h(e){return e.useInlineSvg=null==e.useInlineSvg||e.useInlineSvg,Object(l.createElement)(o.MediaUploadCheck,null,Object(l.createElement)(o.MediaUpload,{onSelect:e.onChange,value:e.img?e.img.id:null,allowedTypes:["image"],render:({open:t})=>Object(l.createElement)(p.Button,{className:e.img?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:t},e.img?"image/svg+xml"===e.img.mime&&e.img.data?Object(l.createElement)(u,{img:e.img,useInlineSvg:e.useInlineSvg,style:m(e)}):Object(l.createElement)("img",{src:e.img.url,style:m(e)}):"Choose an image")}))}function b(e){let t=e.img&&"image/svg+xml"===e.img.mime&&e.img.data;return e.useInlineSvg=null==e.useInlineSvg||e.useInlineSvg,Object(l.createElement)(l.Fragment,null,t&&!e.useInlineSvg?Object(l.createElement)("embed",{type:e.img.mine,src:e.img.url}):Object(l.createElement)("div",n()({},e,t?{dangerouslySetInnerHTML:{__html:e.img.data,style:m(e)}}:{}),e.img&&!t?Object(l.createElement)("img",{src:e.img.url,style:m(e)}):null))}var d=s(5),g=s.n(d);class x extends c.a.Component{getChoices(e){let t=[];return e.forEach((e,s)=>{t[s]={attribute:e.attribute,value:e.value||e.default}}),t}getChoice(e,t){for(let s of t)if(s.attribute===e)return s}render(){let e=this.props.maxRadioOptions||5,t=this.props.options,s=this.props.onChange,a=this.getChoices(t),n=[...Array(t.length).keys()].map(n=>Object(l.createElement)(v,{key:n,maxRadioOptions:e,label:t[n].label,help:t[n].help,choices:t[n].choices,multiple:t[n].multiple,invertValue:t[n].invertValue,min:t[n].min,max:t[n].max,step:t[n].step,markStep:t[n].markStep,markRender:t[n].markRender,tooltipRender:t[n].tooltipRender,value:this.getChoice(t[n].attribute,a).value,disabled:t[n].disabled,callback:e=>{"function"==typeof t[n].onChange&&(e=t[n].onChange(e)),s({[t[n].attribute]:e})}}));return Object(l.createElement)(l.Fragment,null,n)}}class v extends c.a.Component{render(){let e=this.props.maxRadioOptions,t=this.props.value,s=this.props.label,a=this.props.help,n=this.props.choices,r=this.props.min,o=this.props.max,i=this.props.step,c=this.props.markStep,u=this.props.markRender,m=this.props.tooltipRender,h=this.props.multiple,b=this.props.invertValue||!1,d=this.props.disabled,g=this.props.callback;return Object(l.createElement)(l.Fragment,null,Array.isArray(t)?Object(l.createElement)(f,this.props):n?h?Object(l.createElement)(O,{label:s,help:a,options:n,value:t,callback:g,disabled:d}):n.length<=e?Object(l.createElement)(p.RadioControl,{label:s,help:a,selected:t,onChange:g,options:n,disabled:d}):Object(l.createElement)(p.SelectControl,{label:s,help:a,value:t,onChange:g,options:n,disabled:d}):isNaN(r)||isNaN(o)||isNaN(i)?Object(l.createElement)(p.ToggleControl,{label:s,help:a,checked:b!=Boolean(t),onChange:e=>g(b!=e),disabled:d}):Object(l.createElement)(j,{label:s,help:a,value:t,min:r,max:o,step:i,markStep:c,markRender:u,tooltipRender:m,disabled:d,callback:g}))}}class f extends c.a.Component{getProps(e,t){var s={...e};for(let[e,a]of Object.entries(s))Array.isArray(a)&&(s[e]=a[t]);return s}render(){let e=this.props.value,t=this.props.callback,s=[...Array(e.length).keys()].map(s=>Object(l.createElement)(v,n()({},this.getProps(this.props,s),{key:s,callback:a=>{let n=[...e];n[s]=a,t(n)}})));return Object(l.createElement)(l.Fragment,null,s)}}class O extends c.a.Component{constructor(e){super(e),this.id="ncs4-components-checkboxgroup-"+String(document.getElementsByClassName("ncs4-components-checkboxgroup").length)}render(){let e=this.props.label,t=this.props.help,s=this.props.value,a=this.props.options,n=this.props.disabled,r=this.props.callback,o=[...Array(a.length).keys()].map(e=>Object(l.createElement)(p.CheckboxControl,{key:e,label:a[e].label,checked:s.includes(a[e].value),disabled:n,name:this.id,onChange:t=>{var n=[...s];if(t)n.push(a[e].value);else{let t=n.indexOf(a[e].value);t>-1&&n.splice(t,1)}r(n)}}));return Object(l.createElement)("div",{className:"ncs4-components-checkboxgroup"},Object(l.createElement)("label",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2",for:this.id},e),Object(l.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t),o)}}class j extends c.a.Component{createMarks(e,t,s,a){var n=Array(Math.floor((t-e)/s)+1);for(let t=0;t<n.length;t++)n[t]={value:e,label:a(e)},e+=s;return n}render(){let e=this.props.label,t=this.props.help,s=this.props.value,a=this.props.min,n=this.props.max,r=this.props.step||1,o=this.props.markStep||r,i=this.props.markRender||(e=>String(e)),c=this.props.disabled,u=this.props.tooltipRender||i,m=this.props.callback;return Object(l.createElement)(p.RangeControl,{label:e,help:t,value:s,min:a,max:n,step:r,marks:this.createMarks(a,n,o,i),renderTooltipContent:u,disabled:c,onChange:m})}}class C extends c.a.Component{clamp(e,t,s){return Math.min(Math.max(e,t),s)}getUnitSettings(e){for(let t of e.units)if(t.value===e.value)return t}render(){let e=this.props.label,t=this.props.help,s=this.props.disabled,a=this.props.onChange,r=this.props.toggleSelector,o=this.props.unitSelector,i=this.props.slider,c=r&&r.attribute,u=!r||r.value||r.default,m=o.value||o.default,h=isNaN(i.value)?i.default:i.value;(r&&void 0===r.value||void 0===o.value||isNaN(i.value))&&a({[c]:u,unit:m,value:h,asString:String(h)+m});let b=this.getUnitSettings(o);return Object(l.createElement)(l.Fragment,null,e&&Object(l.createElement)("p",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2"},e),Object(l.createElement)(p.PanelRow,null,c&&Object(l.createElement)(v,n()({},r,{value:u,callback:e=>a({[c]:e,unit:m,value:h,asString:String(h)+m})})),Object(l.createElement)(v,n()({},o,{multiple:!1,choices:o.units,disabled:s||!u,callback:e=>{let t={...o,value:e},s=this.getUnitSettings(t);a({[c]:u,unit:e,value:this.clamp(h,s.min,s.max),asString:this.clamp(h,s.min,s.max)+e})}}))),Object(l.createElement)(j,n()({},i,{value:h,min:b.min,max:b.max,step:b.step,markStep:b.markStep||b.step,tooltipRender:e=>String(e)+(b.label||b.value),disabled:s||!u,callback:e=>a({[c]:u,unit:m,value:this.clamp(e,b.min,b.max),asString:this.clamp(e,b.min,b.max)+m})})),t&&Object(l.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t))}}class E extends c.a.Component{validateNumber(e){return!Boolean(e)||E.reg.test(e)}render(){let e=this.validateNumber(this.props.value);return Object(l.createElement)(p.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e)},label:"Phone",help:e?null:"Unrecognized phone number format (perhaps you've made a typo?)"})}}g()(E,"reg",/^(\+?[0-9]{1,4})?[ \-.]*[0-9]{3}[ \-.]*[0-9]{3}[ \-.]*[0-9]{4}$/);class y extends c.a.Component{validateEmail(e){return!Boolean(e)||y.reg.test(e)}render(){let e=this.validateEmail(this.props.value);return Object(l.createElement)(p.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e),this.validateEmail(e)&&this.props.onChangeComplete(e)},label:"Email",help:e?null:"Invalid email address"})}}g()(y,"reg",/^(?:[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-zA-Z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);var S=s(6);class k extends c.a.Component{render(){let e=this.props.label,t=(this.props.allowGradients,this.props.value),s=this.props.onChange,a=Object(S.select)("core/block-editor").getSettings();return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("p",null,e),Object(l.createElement)(p.ColorPalette,{colors:a.colors,disableCustomColors:a.disableCustomColors,clearable:!a.disableCustomColors,value:t,onChange:e=>{let t=a.colors.filter(t=>t.color===e)[0];s({color:e,slug:t?t.slug:null})}}))}}function w(e){let t=Object(S.select)("core/block-editor").getSettings().colors;return function(e,t){let s=t.filter(t=>t.slug===e)[0];return s?s.color:null}(e.slug,t)}class _ extends c.a.Component{render(){let e=this.props.blockProps,t=this.props.attributes;return Object(l.createElement)("div",n()({},e,{className:["ncs4-icon-block",e.className].join(" "),style:{"--image-size":t.size.asString,"--dashicons-color":t.dashiconColor.color},dashicon:t.dashicon}),t.useDashicons?Object(l.createElement)("span",{className:"dashicons dashicons-"+t.dashicon}):Object(l.createElement)(b,{img:t.img}))}}let A=[{value:"px",label:"px",min:16,max:64,step:8,markStep:16},{value:"em",label:"em",min:.5,max:3,step:.5}];class N extends c.a.Component{constructor(e){super(e),this.attributes=e.attributes,this.setAttributes=e.setAttributes,this.setStateAttributes=this.setStateAttributes.bind(this),this.state={...this.attributes,useDashicons:Boolean(this.attributes.useDashicons)}}componentDidMount(){this.setStateAttributes({dashiconColor:{color:w(this.state.dashiconColor),slug:this.state.dashiconColor.slug}})}setStateAttributes(e){this.setState(e,()=>{this.setAttributes(e)})}render(){return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(_,{attributes:this.state,blockProps:this.props.blockProps}),Object(l.createElement)(o.InspectorControls,null,Object(l.createElement)(p.PanelBody,{title:"Icon settings",initialOpen:!0},Object(l.createElement)(p.CheckboxControl,{checked:this.state.useDashicons,label:"Use Dashicon icon",help:this.state.useDashicons?"A Dashicon will be used for the icon":"An image file will be used for the icon",onChange:e=>this.setStateAttributes({useDashicons:e})}),Object(l.createElement)(p.TextControl,{value:this.state.dashicon,label:"Dashicon",help:"Input a dashicon name (not including 'dashicons-'). Read more at https://developer.wordpress.org/resource/dashicons",disabled:!this.state.useDashicons,onChange:e=>this.setStateAttributes({dashicon:e})}),Object(l.createElement)(k,{label:"Dashicon color",value:this.state.dashiconColor.color,onChange:e=>{this.setStateAttributes({dashiconColor:e})}}),this.state.useDashicons&&Object(l.createElement)("div",{style:{position:"relative",marginBottom:"16px"}},Object(l.createElement)("p",{style:{color:"red",position:"absolute",width:"100%",height:"100%",margin:0,display:"grid",alignItems:"center",justifyItems:"center",zIndex:-1}},"Invalid Dashicon"),Object(l.createElement)("span",{className:"dashicons dashicons-"+this.state.dashicon,style:{fontSize:"128px",padding:0,margin:0,width:"100%",height:"auto",backgroundColor:"white"}})),Object(l.createElement)(h,{onChange:e=>function(e,t,s=!0){s&&"image/svg+xml"===e.mime?fetch(e.url).then(e=>e.text()).then(s=>{e.data=s,t(e)}):t(e)}(e,e=>this.setStateAttributes({img:e})),img:this.state.img,disabled:this.state.useDashicons}),Object(l.createElement)(C,{label:"Image size",unitSelector:{label:"Units",value:this.state.size.unit,units:A},slider:{value:this.state.size.value},onChange:e=>{this.setStateAttributes({size:e})}}),Object(l.createElement)(x,{options:[{attribute:"margin",label:["Margin Top (em)","Margin Right (em)","Margin Bottom (em)","Margin Left (em)"],value:this.state.margin,min:0,max:3,step:.5,toolTipRender:e=>String(e)+"em"}],onChange:this.setStateAttributes}))))}}Object(r.registerBlockType)("ncs4-custom-blocks/icon",{apiVersion:2,title:"Icon",icon:"format-image",category:"media",attributes:{useDashicons:{type:"boolean",default:"false"},dashicon:{type:"string",source:"attribute",selector:".ncs4-icon-block",attribute:"dashicon"},dashiconColor:{type:"object",default:{color:null,slug:null}},img:{type:"object"},size:{type:"object",default:{value:16,unit:"px",asString:"16px"}},margin:{type:"array",default:[0,1,0,1]}},edit:e=>Object(l.createElement)(N,n()({},e,{blockProps:Object(o.useBlockProps)()})),save:e=>Object(l.createElement)(_,n()({},e,{blockProps:o.useBlockProps.save()}))})}]);