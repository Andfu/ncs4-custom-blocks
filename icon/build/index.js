!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},a.apply(this,arguments)}e.r(t);var s=window.wp.element,n=window.wp.blocks,l=window.wp.blockEditor,i=window.React,r=e.n(i),o=window.wp.components;function c(e){return(0,s.createElement)(s.Fragment,null,e.useInlineSvg?(0,s.createElement)("div",{dangerouslySetInnerHTML:{__html:e.img.data}}):(0,s.createElement)("embed",{type:e.img.mime,src:e.img.url}))}const p=e=>({marginLeft:"left"==e.align?0:"auto",marginRight:"right"==e.align?0:"auto"});function m(e){return e.useInlineSvg=null==e.useInlineSvg||e.useInlineSvg,(0,s.createElement)(l.MediaUploadCheck,null,(0,s.createElement)(l.MediaUpload,{onSelect:e.onChange,value:e.img?e.img.id:null,allowedTypes:["image"],render:t=>{let{open:a}=t;return(0,s.createElement)(o.Button,{className:e.img?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:a},e.img?"image/svg+xml"===e.img.mime&&e.img.data?(0,s.createElement)(c,{img:e.img,useInlineSvg:e.useInlineSvg,style:p(e)}):(0,s.createElement)("img",{src:e.img.url,style:p(e)}):"Choose an image")}}))}function u(e){let t=e.img&&"image/svg+xml"===e.img.mime&&e.img.data;return e.useInlineSvg=null==e.useInlineSvg||e.useInlineSvg,(0,s.createElement)(s.Fragment,null,t&&!e.useInlineSvg?(0,s.createElement)("embed",{type:e.img.mine,src:e.img.url}):(0,s.createElement)("div",a({},e,t?{dangerouslySetInnerHTML:{__html:e.img.data,style:p(e)}}:{}),e.img&&!t?(0,s.createElement)("img",{src:e.img.url,style:p(e)}):null))}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends r().Component{getChoices(e){let t=[];return e.forEach(((e,a)=>{t[a]={attribute:e.attribute,value:NaN==e.value||null==e.value?e.default:e.value}})),t}getChoice(e,t){for(let a of t)if(a.attribute===e)return a}render(){let e=this.props.maxRadioOptions||5,t=this.props.options,a=this.props.onChange,n=this.getChoices(t),l=[...Array(t.length).keys()].map((l=>(0,s.createElement)(g,{key:l,maxRadioOptions:e,label:t[l].label,help:t[l].help,choices:t[l].choices,multiple:t[l].multiple,invertValue:t[l].invertValue,min:t[l].min,max:t[l].max,step:t[l].step,markStep:t[l].markStep,markRender:t[l].markRender,tooltipRender:t[l].tooltipRender,value:this.getChoice(t[l].attribute,n).value,disabled:t[l].disabled,callback:e=>{"function"==typeof t[l].onChange&&(e=t[l].onChange(e)),a({[t[l].attribute]:e})}})));return(0,s.createElement)(s.Fragment,null,l)}}class g extends r().Component{render(){let e=this.props.maxRadioOptions,t=this.props.value,a=this.props.label,n=this.props.help,l=this.props.choices,i=this.props.min,r=this.props.max,c=this.props.step,p=this.props.markStep,m=this.props.markRender,u=this.props.tooltipRender,h=this.props.multiple,d=this.props.invertValue||!1,g=this.props.disabled,f=this.props.callback;return(0,s.createElement)(s.Fragment,null,Array.isArray(t)?(0,s.createElement)(b,this.props):l?h?(0,s.createElement)(v,{label:a,help:n,options:l,value:t,callback:f,disabled:g}):l.length<=e?(0,s.createElement)(o.RadioControl,{label:a,help:n,selected:t,onChange:f,options:l,disabled:g}):(0,s.createElement)(o.SelectControl,{label:a,help:n,value:t,onChange:f,options:l,disabled:g}):isNaN(i)||isNaN(r)||isNaN(c)?(0,s.createElement)(o.ToggleControl,{label:a,help:n,checked:d!=Boolean(t),onChange:e=>f(d!=e),disabled:g}):(0,s.createElement)(x,{label:a,help:n,value:t,min:i,max:r,step:c,markStep:p,markRender:m,tooltipRender:u,disabled:g,callback:f}))}}class b extends r().Component{getProps(e,t){var a={...e};for(let[e,s]of Object.entries(a))Array.isArray(s)&&(a[e]=s[t]);return a}render(){let e=this.props.value,t=this.props.callback,n=[...Array(e.length).keys()].map((n=>(0,s.createElement)(g,a({},this.getProps(this.props,n),{key:n,callback:a=>{let s=[...e];s[n]=a,t(s)}}))));return(0,s.createElement)(s.Fragment,null,n)}}class v extends r().Component{constructor(e){super(e),this.id="ncs4-components-checkboxgroup-"+String(document.getElementsByClassName("ncs4-components-checkboxgroup").length)}render(){let e=this.props.label,t=this.props.help,a=this.props.value,n=this.props.options,l=this.props.disabled,i=this.props.callback,r=[...Array(n.length).keys()].map((e=>(0,s.createElement)(o.CheckboxControl,{key:e,label:n[e].label,checked:a.includes(n[e].value),disabled:l,name:this.id,onChange:t=>{var s=[...a];if(t)s.push(n[e].value);else{let t=s.indexOf(n[e].value);t>-1&&s.splice(t,1)}i(s)}})));return(0,s.createElement)("div",{className:"ncs4-components-checkboxgroup"},(0,s.createElement)("label",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2",for:this.id},e),(0,s.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t),r)}}class x extends r().Component{createMarks(e,t,a,s){var n=Array(Math.floor((t-e)/a)+1);for(let t=0;t<n.length;t++)n[t]={value:e,label:s(e)},e+=a;return n}render(){let e=this.props.label,t=this.props.help,a=this.props.value,n=this.props.min,l=this.props.max,i=this.props.step||1,r=this.props.markStep||i,c=this.props.markRender||(e=>String(e)),p=this.props.disabled,m=this.props.tooltipRender||c,u=this.props.callback;return(0,s.createElement)(o.RangeControl,{label:e,help:t,value:a,min:n,max:l,step:i,marks:this.createMarks(n,l,r,c),renderTooltipContent:m,disabled:p,onChange:u})}}class f extends r().Component{clamp(e,t,a){return Math.min(Math.max(e,t),a)}getUnitSettings(e){for(let t of e.units)if(t.value===e.value)return t}render(){let e=this.props.label,t=this.props.help,n=this.props.disabled,l=this.props.onChange,i=this.props.toggleSelector,r=this.props.unitSelector,c=this.props.slider,p=i&&i.attribute,m=!i||i.value||i.default,u=r.value||r.default,h=isNaN(c.value)?c.default:c.value;(i&&void 0===i.value||void 0===r.value||isNaN(c.value))&&l({[p]:m,unit:u,value:h,asString:String(h)+u});let d=this.getUnitSettings(r);return(0,s.createElement)(s.Fragment,null,e&&(0,s.createElement)("p",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2"},e),(0,s.createElement)(o.PanelRow,null,p&&(0,s.createElement)(g,a({},i,{value:m,callback:e=>l({[p]:e,unit:u,value:h,asString:String(h)+u})})),(0,s.createElement)(g,a({},r,{multiple:!1,choices:r.units,disabled:n||!m,callback:e=>{let t={...r,value:e},a=this.getUnitSettings(t);l({[p]:m,unit:e,value:this.clamp(h,a.min,a.max),asString:this.clamp(h,a.min,a.max)+e})}}))),(0,s.createElement)(x,a({},c,{value:h,min:d.min,max:d.max,step:d.step,markStep:d.markStep||d.step,tooltipRender:e=>String(e)+(d.label||d.value),disabled:n||!m,callback:e=>l({[p]:m,unit:u,value:this.clamp(e,d.min,d.max),asString:this.clamp(e,d.min,d.max)+u})})),t&&(0,s.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t))}}class C extends r().Component{validateNumber(e){return!Boolean(e)||C.reg.test(e)}render(){let e=this.validateNumber(this.props.value);return(0,s.createElement)(o.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e)},label:"Phone",help:e?null:"Unrecognized phone number format (perhaps you've made a typo?)"})}}h(C,"reg",/^(\+?[0-9]{1,4})?[ \-.]*[0-9]{3}[ \-.]*[0-9]{3}[ \-.]*[0-9]{4}$/);class E extends r().Component{validateEmail(e){return!Boolean(e)||E.reg.test(e)}render(){let e=this.validateEmail(this.props.value);return(0,s.createElement)(o.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e),this.validateEmail(e)&&this.props.onChangeComplete(e)},label:"Email",help:e?null:"Invalid email address"})}}h(E,"reg",/^(?:[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-zA-Z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/),window.wp.data;class S extends r().Component{render(){let e=this.props.blockProps,t=this.props.attributes;return(0,s.createElement)("div",a({},e,{className:["ncs4-icon-block",e.className].join(" "),style:{"--image-size":t.size.asString,"--dashicons-color":t.dashiconColor.color},dashicon:t.dashicon}),t.useDashicons?(0,s.createElement)("span",{className:"dashicons dashicons-"+t.dashicon}):(0,s.createElement)(u,{img:t.img}))}}let y=[{value:"px",label:"px",min:16,max:64,step:8,markStep:16},{value:"em",label:"em",min:.5,max:3,step:.5}];class k extends r().Component{constructor(e){super(e),this.attributes=e.attributes,this.setAttributes=e.setAttributes,this.setStateAttributes=this.setStateAttributes.bind(this),this.state={...this.attributes,useDashicons:Boolean(this.attributes.useDashicons)}}componentDidMount(){this.setStateAttributes({dashiconColor:{color:(0,t.verifyColor)(this.state.dashiconColor),slug:this.state.dashiconColor.slug}})}setStateAttributes(e){this.setState(e,(()=>{this.setAttributes(e)}))}render(){return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(S,{attributes:this.state,blockProps:this.props.blockProps}),(0,s.createElement)(l.InspectorControls,null,(0,s.createElement)(o.PanelBody,{title:"Icon settings",initialOpen:!0},(0,s.createElement)(o.CheckboxControl,{checked:this.state.useDashicons,label:"Use Dashicon icon",help:this.state.useDashicons?"A Dashicon will be used for the icon":"An image file will be used for the icon",onChange:e=>this.setStateAttributes({useDashicons:e})}),(0,s.createElement)(o.TextControl,{value:this.state.dashicon,label:"Dashicon",help:"Input a dashicon name (not including 'dashicons-'). Read more at https://developer.wordpress.org/resource/dashicons",disabled:!this.state.useDashicons,onChange:e=>this.setStateAttributes({dashicon:e})}),(0,s.createElement)(t.ColorSelector,{label:"Dashicon color",value:this.state.dashiconColor.color,onChange:e=>{this.setStateAttributes({dashiconColor:e})}}),this.state.useDashicons&&(0,s.createElement)("div",{style:{position:"relative",marginBottom:"16px"}},(0,s.createElement)("p",{style:{color:"red",position:"absolute",width:"100%",height:"100%",margin:0,display:"grid",alignItems:"center",justifyItems:"center",zIndex:-1}},"Invalid Dashicon"),(0,s.createElement)("span",{className:"dashicons dashicons-"+this.state.dashicon,style:{fontSize:"128px",padding:0,margin:0,width:"100%",height:"auto",backgroundColor:"white"}})),(0,s.createElement)(m,{onChange:e=>function(e,t){arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||"image/svg+xml"!==e.mime?t(e):fetch(e.url).then((e=>e.text())).then((a=>{e.data=a,t(e)}))}(e,(e=>this.setStateAttributes({img:e}))),img:this.state.img,disabled:this.state.useDashicons}),(0,s.createElement)(f,{label:"Image size",unitSelector:{label:"Units",value:this.state.size.unit,units:y},slider:{value:this.state.size.value},onChange:e=>{this.setStateAttributes({size:e})}}),(0,s.createElement)(d,{options:[{attribute:"margin",label:["Margin Top (em)","Margin Right (em)","Margin Bottom (em)","Margin Left (em)"],value:this.state.margin,min:0,max:3,step:.5,toolTipRender:e=>String(e)+"em"}],onChange:this.setStateAttributes}))))}}(0,n.registerBlockType)("ncs4-custom-blocks/icon",{apiVersion:2,title:"Icon",icon:"format-image",category:"media",attributes:{useDashicons:{type:"boolean",default:"false"},dashicon:{type:"string",source:"attribute",selector:".ncs4-icon-block",attribute:"dashicon"},dashiconColor:{type:"object",default:{color:null,slug:null}},img:{type:"object"},size:{type:"object",default:{value:16,unit:"px",asString:"16px"}},margin:{type:"array",default:[0,1,0,1]}},edit:e=>(0,s.createElement)(k,a({},e,{blockProps:(0,l.useBlockProps)()})),save:e=>(0,s.createElement)(S,a({},e,{blockProps:l.useBlockProps.save()}))})}();