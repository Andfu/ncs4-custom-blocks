{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../js/ImageControl.js","webpack:///../node_modules/@babel/runtime/helpers/extends.js","webpack:///./src/edit.js","webpack:///./src/index.js","webpack:///./src/save.js","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external \"React\""],"names":["Svg","props","__html","svg","ImageEdit","onChange","img","id","open","mime","data","url","ImageSave","isSvg","dangerouslySetInnerHTML","onImageChange","callback","embedSvg","fetch","then","res","text","BPTopicEdit","React","Component","constructor","attributes","blockProps","clientId","setAttributes","setStateAttributes","bind","handleSelected","state","editMode","title","link","wp","subscribe","createClassName","classes","join","attrs","setState","selectedBlock","select","getSelectedBlock","render","v","BPTopicEditMode","registerBlockType","apiVersion","icon","category","type","edit","useBlockProps","save","BPTopicSave","className","TopicTextArea","TopicIconArea","renderSvg"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import React from 'react';\r\nimport { MediaUploadCheck, MediaUpload } from '@wordpress/block-editor';\r\nimport { Button } from '@wordpress/components';\r\n\r\n// Be careful that you only use trusted SVGs as they are not secure!\r\nexport function Svg(props) {\r\n  return (\r\n    <div\r\n      dangerouslySetInnerHTML = {{\r\n        __html: props.svg\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\n// Image object format:\r\n/*\r\nimg: {\r\n  mine = \"image/svg+xml\",\r\n  url = \"...\"\r\n  data = {svg data}\r\n  ...\r\n}\r\nBasically, it's WP's image object + svg data (if applicable)\r\nstored in a \"data\" attribute\r\n*/\r\n\r\n// Edit-side image display\r\nexport function ImageEdit(props) {\r\n\r\n  return (\r\n    <MediaUploadCheck>\r\n      <MediaUpload\r\n        onSelect = { props.onChange }\r\n        value = { props.img ? props.img.id : null }\r\n        allowedTypes = { ['image'] }\r\n        render = { ( {open} ) => (\r\n          <Button\r\n            className = {\r\n              props.img\r\n                ? 'editor-post-featured-image__preview'\r\n                : 'editor-post-featured-image__toggle'\r\n            }\r\n            onClick = { open }\r\n          >\r\n            { props.img\r\n              ? (props.img.mime === \"image/svg+xml\" && props.img.data\r\n                  ? <Svg\r\n                      svg = { props.img.data }\r\n                    />\r\n                  : <img src = { props.img.url }/>\r\n                )\r\n              : \"Choose an image\"\r\n            }\r\n          </Button>\r\n        )}\r\n      />\r\n    </MediaUploadCheck>\r\n  );\r\n}\r\n\r\n// Front-end image display\r\nexport function ImageSave(props) {\r\n  let isSvg = props.img && props.img.mime === \"image/svg+xml\" && props.img.data;\r\n\r\n  return (\r\n    <div {...props}\r\n      { ...(\r\n        isSvg\r\n          ? { dangerouslySetInnerHTML: {\r\n            __html: props.img.data\r\n          }}\r\n          : {}\r\n        )\r\n      }\r\n    >\r\n      { props.img && !isSvg\r\n        ? <img src = {props.img.url }/>\r\n        : null\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n// Generic image change handler\r\nexport function onImageChange(img, callback, embedSvg = true) {\r\n  if (embedSvg && img.mime === \"image/svg+xml\") {\r\n    fetch(img.url)\r\n      .then(res => res.text())\r\n      .then(text => {\r\n        img.data = text;\r\n        callback(img);\r\n      });\r\n  } else {\r\n    callback(img);\r\n  }\r\n}\r\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import React from 'react';\r\nimport { BPTopicSave } from './save.js';\r\n\r\nimport { select } from '@wordpress/data';\r\nimport { MediaUploadCheck, MediaUpload } from '@wordpress/block-editor';\r\nimport { TextControl, Button } from '@wordpress/components';\r\n\r\nimport { ImageEdit, onImageChange } from '../../js/ImageControl.js';\r\n\r\n\r\nexport class BPTopicEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = props.attributes;\r\n    this.blockProps = props.blockProps;\r\n    this.clientId = props.clientId;\r\n    this.setAttributes = props.setAttributes;\r\n\r\n    this.setStateAttributes = this.setStateAttributes.bind(this);\r\n    this.handleSelected = this.handleSelected.bind(this);\r\n\r\n    this.state = {\r\n      editMode: false,\r\n      title: props.attributes.title,\r\n      link: props.attributes.link,\r\n      img: props.attributes.img,\r\n    }\r\n\r\n    wp.data.subscribe(this.handleSelected);\r\n  }\r\n\r\n  createClassName(classes) {\r\n    return [\r\n      'ncs4-bp-topic',\r\n    ].join(' ') + ' ' + classes;\r\n  }\r\n\r\n  setStateAttributes(attrs) {\r\n    this.setState(\r\n      attrs,\r\n      () => { this.setAttributes( attrs ) }\r\n    );\r\n  }\r\n\r\n  handleSelected() {\r\n    let selectedBlock =\r\n       select(\"core/block-editor\")\r\n      .getSelectedBlock()\r\n    ;\r\n    if (!selectedBlock) { return }\r\n\r\n    if ( !this.state.editMode && selectedBlock.clientId === this.clientId ) {\r\n      this.setState( { editMode: true } );\r\n    } else if ( this.state.editMode && selectedBlock.clientId !== this.clientId ) {\r\n      this.setState( { editMode: false } );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className = \"ncs4-bp-topic__wrapper\" { ...this.blockProps }>\r\n        { this.state.editMode\r\n          ?\r\n            <BPTopicEditMode\r\n              attributes = { this.state }\r\n              onChange = { (v) => { this.setStateAttributes({ img: v }) }}\r\n            />\r\n          :\r\n            <BPTopicSave\r\n              attributes = { this.state }\r\n              blockProps = { this.blockProps }\r\n            />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass BPTopicEditMode extends React.Component {\r\n\r\n  render() {\r\n    let attrs = this.props.attributes;\r\n    let onChange = this.props.onChange;\r\n\r\n    return (\r\n      <>\r\n        <TextControl\r\n          label = \"Topic\"\r\n          placeholder = \"Best Practices Topic\"\r\n          value = { attrs.title }\r\n          onChange = { onChange }\r\n        />\r\n        <TextControl\r\n          label = \"Topic page link\"\r\n          help = \"Link to the topic page\"\r\n          placeholder = \"/resources/best-practices/my-topic\"\r\n          value = { attrs.link }\r\n          onChange = { onChange }\r\n        />\r\n        <ImageEdit\r\n          onChange = { (img) => onImageChange(img, onChange) }\r\n          img = { attrs.img }\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { registerBlockType } from '@wordpress/blocks';\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\nimport { BPTopicEdit } from './edit.js';\r\nimport { BPTopicSave } from './save.js';\r\n\r\nregisterBlockType( 'ncs4-custom-blocks/bp-topic', {\r\n  apiVersion: 2,\r\n\r\n  title: 'Best Practices Topic',\r\n  icon: 'links',\r\n  category: 'layout',\r\n  attributes: {\r\n    title: {\r\n      type: 'string',\r\n    },\r\n    link: {\r\n      type: 'string',\r\n    },\r\n    img: {\r\n      type: 'object',\r\n    },\r\n    svg: {\r\n      type: 'string',\r\n    },\r\n  },\r\n\r\n  edit: (props) => (\r\n    <BPTopicEdit\r\n      { ...props }\r\n      blockProps = { useBlockProps() }\r\n    />\r\n  ),\r\n  save: (props) => (\r\n    <BPTopicSave\r\n      { ...props }\r\n      blockProps = { useBlockProps.save() }\r\n    />\r\n  ),\r\n});\r\n","import React from 'react';\r\n\r\nimport { ImageSave } from '../../js/ImageControl.js';\r\n\r\nexport class BPTopicSave extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = props.attributes;\r\n    this.blockProps = props.blockProps;\r\n  }\r\n\r\n  createClassName(classes) {\r\n    return [\r\n      'ncs4-bp-topic',\r\n    ].join(' ') + ' ' + classes;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <a { ...this.blockProps }\r\n        className = { this.createClassName(this.blockProps.className) }\r\n        href = { this.attributes.link }\r\n      >\r\n        <TopicTextArea text = { this.attributes.title }/>\r\n        <TopicIconArea\r\n          img = { this.attributes.img }\r\n          svg = { this.attributes.svg }\r\n        />\r\n        <div className = \"ncs4-bp-topic__overlay\"/>\r\n      </a>\r\n    );\r\n  }\r\n}\r\n\r\nclass TopicTextArea extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.text = props.text;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className = \"ncs4-bp-topic__text-area\">\r\n        <p>{ this.text }</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass TopicIconArea extends React.Component {\r\n\r\n  render() {\r\n    let renderSvg = this.img && this.img.mime === \"image/svg+xml\" && this.svg;\r\n    return (\r\n      <ImageSave\r\n        className = \"ncs4-bp-topic__icon-area\"\r\n        img = { this.props.img }\r\n      />\r\n    );\r\n  }\r\n}\r\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"React\"]; }());"],"sourceRoot":""}