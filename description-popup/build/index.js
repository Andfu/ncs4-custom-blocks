!function(){"use strict";var e={n:function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,{a:l}),l},d:function(t,l){for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getIds:function(){return I},getNextId:function(){return P},requestId:function(){return L}});var l={};function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},n.apply(this,arguments)}e.r(l),e.d(l,{createId:function(){return R},deleteId:function(){return M}});var a=window.wp.element,o=window.wp.blocks,r=window.wp.blockEditor;function s(e,t){let l={};for(let n in t)if("string"==typeof t[n]&&e[n]&&"object"==typeof e[n]&&e[n].type)switch(e[n].type){case"string":l[n]=t[n];break;case"boolean":l[n]=Boolean(t[n]);break;case"bool":case"int":case"integer":case"number":case"json":l[n]=JSON.parse(t[n]);break;case"null":null!==t[n]&&""!==t[n]&&"null"!==t[n]&&console.warn("Attribute '"+n+"': expected null, got '"+t[n]+"'"),l[n]=null;break;default:console.warn("Attribute '"+n+"': Unknown type '"+e[n].type+"'")}else l[n]=t[n];return l}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const l={br:30,hr:30},n=(e,t)=>{e.text.forEach(((l,a)=>"object"==typeof l?l.tag&&!l.hasEndTag?t(l,e,a):n(l,t):t(l,e,a)))},a={slice(e,t){e<0&&slice(this.length+e),t<0&&slice(this.length+t),t=null==t?this.length:t;let l=Object.assign(Object.create(a),this);l.text=[];let o=0;return n(this,((n,r)=>{if("object"==typeof n&&n.tag&&!n.hasEndTag)o<e||o+n.length>t?o+=n.length:(o+=n.length,l.text.push(n),l.length+=n.length);else{let s=Object.assign(Object.create(a),r),i="",p=0;if(0===n.length)return;if(o<e)if(o+n.length>=e){let l=e-o;o+=l,p=Math.min(n.length,t-e),i=n.slice(l,l+p)}else o+=n.length;else o<t&&(p=Math.min(n.length,t-o),i=n.slice(0,p),o+=p);""!==i&&(s.text=[i],s.length=p,l.text.push(s),l.length=Math.max(0,o-e))}})),l},toString(){let e="";return n(this,((t,l,n)=>{"object"!=typeof t||!t.tag||t.hasEndTag?(l.tag&&0===n&&(e+="<"+l.tag+">"),e+=t,l.tag&&l.hasEndTag&&n===l.text.length-1&&(e+="</"+l.tag+">")):e+="<"+t.tag+">"})),e}};let o=Object.create(a);o=Object.assign(o,{length:0,tag:t,hasEndTag:!1,text:[]});let r=[],s=e,i=s.search("<"),u=s.search(">");for(;-1!==i&&-1!==u;){let e=s.slice(0,i);""!==e&&r.push(e),r.push(s.slice(i,u+1)),s=s.slice(u+1),i=s.search("<"),u=s.search(">")}""!==s&&r.push(s);const c=(e,t,n,o)=>{if(e.hasEndTag||n>=o.length)return e;if(/^<\/.*>$/.test(t)){if(i=t.search("<")+1,u=t.search(">"),t.slice(i+1,u)===e.tag)return e.hasEndTag=!0,e}else if(/^<.*>$/.test(t)){i=t.search("<"),u=t.search(">");let r=Object.create(a);r=Object.assign(r,{length:0,tag:t.slice(i+1,u),hasEndTag:!1,text:[]}),l[r.tag]?r.length=l[r.tag]:(r=((e,t)=>p(e,c,t))(o.slice(n+1),r),n+=1+r.text.length),e.text.push(r),e.length+=r.length}else e.text.push(t),e.length+=t.length;return e.tag&&n+1===o.length&&!e.hasEndTag&&console.error("EOL reached: Expected closing tag for <"+e.tag+">"),((e,t)=>()=>c(Object.assign(Object.create(a),e),o[t+1],t+1,o))(e,n)};return o=p(r,c,o),o}function p(e,t,l){let n=t(l,e[0],0,e);for(;"function"==typeof n;)n=n();return n}var u=window.React,c=e.n(u),d=window.wp.data,m=window.wp.components;function b(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}class g extends c().Component{getChoices(e){let t=[];return e.forEach(((e,l)=>{t[l]={attribute:e.attribute,value:NaN==e.value||null==e.value?e.default:e.value}})),t}getChoice(e,t){for(let l of t)if(l.attribute===e)return l}render(){let e=this.props.maxRadioOptions||5,t=this.props.options,l=this.props.onChange,n=this.getChoices(t),o=[...Array(t.length).keys()].map((o=>(0,a.createElement)(h,{key:o,maxRadioOptions:e,label:t[o].label,help:t[o].help,choices:t[o].choices,multiple:t[o].multiple,invertValue:t[o].invertValue,min:t[o].min,max:t[o].max,step:t[o].step,markStep:t[o].markStep,markRender:t[o].markRender,tooltipRender:t[o].tooltipRender,value:this.getChoice(t[o].attribute,n).value,disabled:t[o].disabled,callback:e=>{"function"==typeof t[o].onChange&&(e=t[o].onChange(e)),l({[t[o].attribute]:e})}})));return(0,a.createElement)(a.Fragment,null,o)}}class h extends c().Component{render(){let e=this.props.maxRadioOptions,t=this.props.value,l=this.props.label,n=this.props.help,o=this.props.choices,r=this.props.min,s=this.props.max,i=this.props.step,p=this.props.markStep,u=this.props.markRender,c=this.props.tooltipRender,d=this.props.multiple,b=this.props.invertValue||!1,g=this.props.disabled,h=this.props.callback;return(0,a.createElement)(a.Fragment,null,Array.isArray(t)?(0,a.createElement)(f,this.props):o?d?(0,a.createElement)(y,{label:l,help:n,options:o,value:t,callback:h,disabled:g}):o.length<=e?(0,a.createElement)(m.RadioControl,{label:l,help:n,selected:t,onChange:h,options:o,disabled:g}):(0,a.createElement)(m.SelectControl,{label:l,help:n,value:t,onChange:h,options:o,disabled:g}):isNaN(r)||isNaN(s)||isNaN(i)?(0,a.createElement)(m.ToggleControl,{label:l,help:n,checked:b!=Boolean(t),onChange:e=>h(b!=e),disabled:g}):(0,a.createElement)(v,{label:l,help:n,value:t,min:r,max:s,step:i,markStep:p,markRender:u,tooltipRender:c,disabled:g,callback:h}))}}class f extends c().Component{getProps(e,t){var l={...e};for(let[e,n]of Object.entries(l))Array.isArray(n)&&(l[e]=n[t]);return l}render(){let e=this.props.value,t=this.props.callback,l=[...Array(e.length).keys()].map((l=>(0,a.createElement)(h,n({},this.getProps(this.props,l),{key:l,callback:n=>{let a=[...e];a[l]=n,t(a)}}))));return(0,a.createElement)(a.Fragment,null,l)}}class y extends c().Component{constructor(e){super(e),this.id="ncs4-components-checkboxgroup-"+String(document.getElementsByClassName("ncs4-components-checkboxgroup").length)}render(){let e=this.props.label,t=this.props.help,l=this.props.value,n=this.props.options,o=this.props.disabled,r=this.props.callback,s=[...Array(n.length).keys()].map((e=>(0,a.createElement)(m.CheckboxControl,{key:e,label:n[e].label,checked:l.includes(n[e].value),disabled:o,name:this.id,onChange:t=>{var a=[...l];if(t)a.push(n[e].value);else{let t=a.indexOf(n[e].value);t>-1&&a.splice(t,1)}r(a)}})));return(0,a.createElement)("div",{className:"ncs4-components-checkboxgroup"},(0,a.createElement)("label",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2",for:this.id},e),(0,a.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t),s)}}class v extends c().Component{createMarks(e,t,l,n){var a=Array(Math.floor((t-e)/l)+1);for(let t=0;t<a.length;t++)a[t]={value:e,label:n(e)},e+=l;return a}render(){let e=this.props.label,t=this.props.help,l=this.props.value,n=this.props.min,o=this.props.max,r=this.props.step||1,s=this.props.markStep||r,i=this.props.markRender||(e=>String(e)),p=this.props.disabled,u=this.props.tooltipRender||i,c=this.props.callback;return(0,a.createElement)(m.RangeControl,{label:e,help:t,value:l,min:n,max:o,step:r,marks:this.createMarks(n,o,s,i),renderTooltipContent:u,disabled:p,onChange:c})}}class E extends c().Component{clamp(e,t,l){return Math.min(Math.max(e,t),l)}getUnitSettings(e){for(let t of e.units)if(t.value===e.value)return t}render(){let e=this.props.label,t=this.props.help,l=this.props.disabled,o=this.props.onChange,r=this.props.toggleSelector,s=this.props.unitSelector,i=this.props.slider,p=r&&r.attribute,u=!r||r.value||r.default,c=s.value||s.default,d=isNaN(i.value)?i.default:i.value;(r&&void 0===r.value||void 0===s.value||isNaN(i.value))&&o({[p]:u,unit:c,value:d,asString:String(d)+c});let b=this.getUnitSettings(s);return(0,a.createElement)(a.Fragment,null,e&&(0,a.createElement)("p",{className:"components-base-control__label css-pezhm9-StyledLabel e1puf3u2"},e),(0,a.createElement)(m.PanelRow,null,p&&(0,a.createElement)(h,n({},r,{value:u,callback:e=>o({[p]:e,unit:c,value:d,asString:String(d)+c})})),(0,a.createElement)(h,n({},s,{multiple:!1,choices:s.units,disabled:l||!u,callback:e=>{let t={...s,value:e},l=this.getUnitSettings(t);o({[p]:u,unit:e,value:this.clamp(d,l.min,l.max),asString:this.clamp(d,l.min,l.max)+e})}}))),(0,a.createElement)(v,n({},i,{value:d,min:b.min,max:b.max,step:b.step,markStep:b.markStep||b.step,tooltipRender:e=>String(e)+(b.label||b.value),disabled:l||!u,callback:e=>o({[p]:u,unit:c,value:this.clamp(e,b.min,b.max),asString:this.clamp(e,b.min,b.max)+c})})),t&&(0,a.createElement)("p",{className:"components-base-control__help css-1gbp77-StyledHelp e1puf3u3"},t))}}class x extends c().Component{validateNumber(e){return!Boolean(e)||x.reg.test(e)}render(){let e=this.validateNumber(this.props.value);return(0,a.createElement)(m.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e)},label:"Phone",help:e?null:"Unrecognized phone number format (perhaps you've made a typo?)"})}}b(x,"reg",/^(\+?[0-9]{1,4})?[ \-.]*[0-9]{3}[ \-.]*[0-9]{3}[ \-.]*[0-9]{4}$/);class k extends c().Component{validateEmail(e){return!Boolean(e)||k.reg.test(e)}render(){let e=this.validateEmail(this.props.value);return(0,a.createElement)(m.TextControl,{value:this.props.value,onChange:e=>{this.props.onChange(e),this.validateEmail(e)&&this.props.onChangeComplete(e)},label:"Email",help:e?null:"Invalid email address"})}}function S(e,t){let l={};return e.slug||(t?(l.backgroundColor=e.color,l["--palette-bg-color"]=e.color):(l.color=e.color,l["--palette-color"]=e.color)),l}b(k,"reg",/^(?:[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-zA-Z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);const _=(e,t)=>{return{data:e,className:(l=e.slug,n=t?"background-color":"color",l&&n?"has-"+l+"-"+n:null),style:S(e,t)};var l,n};function C(e,t,l){let n={},a=(0,d.select)("core/block-editor").getSettings().colors,[o,r]=(0,u.useState)({});return(0,u.useEffect)((()=>{n=function(e,t){if(!e||"object"!=typeof e)return console.warn("Malformed color"),{color:null,slug:null};for(let l of t)if(e.color&&l.color===e.color||e.slug&&l.slug===e.slug)return{color:l.color,slug:l.slug};return e.color&&!e.slug?e:(console.warn("Unknown color:",e),{color:null,slug:null})}(e,a),"function"==typeof l&&l(n),r(_(n,t))}),[e.color,e.slug]),o}var w,N,O,T,B=e=>{let t=(0,d.select)("core/block-editor").getSettings();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,e.label),(0,a.createElement)(m.ColorPalette,{colors:t.colors,disableCustomColors:t.disableCustomColors,value:e.value,onChange:l=>{let n=function(e,t){return t.filter((t=>t.color===e))[0]||null}(l,t.colors);e.onChange({color:l,slug:n?n.slug:null})}}))};function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},j.apply(this,arguments)}var z=function(e){return u.createElement("svg",j({id:"dismiss_svg__Layer_1","data-name":"Layer 1",xmlns:"http: //www.w3.org/2000/svg",viewBox:"0 0 43 95.17"},e),w||(w=u.createElement("defs",null,u.createElement("style",null,".dismiss_svg__cls-2,.dismiss_svg__cls-4{fill:none;stroke-width:3px;stroke-miterlimit:10}"))),N||(N=u.createElement("path",{className:"dismiss_svg__cls-1",d:"M21.5 42.5a21 21 0 1 1 21-21 21 21 0 0 1-21 21",transform:"translate(0 52.67)"})),O||(O=u.createElement("path",{className:"dismiss_svg__cls-2",d:"m10.91 84.76 21.18-21.19M10.91 63.57l21.18 21.19"})),u.createElement("path",{d:"M21.5-10.17a21 21 0 0 1-21-21 21 21 0 0 1 21-21 21 21 0 0 1 21 21 21 21 0 0 1-21 21m0-40a19 19 0 0 0-19 19 19 19 0 0 0 19 19 19 19 0 0 0 19-19 19 19 0 0 0-19-19Z",transform:"translate(0 52.67)",style:{strokeMiterlimit:10}}),T||(T=u.createElement("path",{className:"dismiss_svg__cls-4",d:"m10.91 32.09 21.18-21.18M10.91 10.91l21.18 21.18"})))};const I=e=>e.ids||[],L=(e,t)=>{t=Number(t);let l=e.ids.length;if(t<0)return P(e);if(0===l)return-1;for(let n=0;n<l;n++)if(e.ids[n]===t)return P(e);return-1},P=e=>{for(let t=0;t<e.ids.length;t++){const l=e.ids[t];if(0===t&&0!==l)return l;if(t+1<e.ids.length&&e.ids[t+1]-1>l||t+1>=e.ids.length)return l+1}return 0};function R(e){return{type:"CREATE",id:e}}function M(e){return{type:"DELETE",id:e}}const A=e=>{let t=e.attributes,l="popup-"+String(t.popupId),n=_(t.popupBgColor,!0),o=_(t.popupTextColor,!1),r=`\n    #${l}:target {\n      display: block;\n    }\n  `;return(0,a.createElement)(a.Fragment,null,e.backend?(0,a.createElement)("a",{"data-popup-link-style":t.popupLinkStyle,className:"ncs4-popup-button "+(e.className||"")+" "+(t.popupLinkStyle||"")},t.popupButtonTitle):(0,a.createElement)("a",{"data-popup-link-style":t.popupLinkStyle,className:"ncs4-popup-button "+(e.className||"")+" "+(t.popupLinkStyle||""),href:"#"+l},t.popupButtonTitle),(0,a.createElement)("div",{"data-popup-id":t.popupId,id:l,className:"ncs4-popup__wrapper",style:{textAlign:"left"}},(0,a.createElement)("a",{"data-popup-opacity":t.popupOverlayOpacity,className:"ncs4-popup-overlay",href:"#!",style:{opacity:String(t.popupOverlayOpacity)+"%"}}),(0,a.createElement)("div",{className:"ncs4-popup-content__wrapper"},(0,a.createElement)("div",{"data-popup-background":JSON.stringify(n.data),"data-popup-color":JSON.stringify(o.data),"data-popup-size":t.popupSize,"data-popup-shadow":t.popupShadow,className:["ncs4-popup-content",n.className,o.className,t.popupSize,t.popupShadow?"popup-has-shadow":null].join(" "),style:{...n.style,...o.style}},e.children)),(0,a.createElement)("style",null,r)))};A.Dismiss=e=>(0,a.createElement)("a",{href:"#!",className:"ncs4-popup__popup-dismiss-link",title:"Dismiss"},(0,a.createElement)(z,{className:"ncs4-popup__popup-dismiss",viewBox:"0 52.67 43 43"})),A.Header=e=>(0,a.createElement)("div",{className:"ncs4-popup__popup-header"},(0,a.createElement)("div",{className:"ncs4-popup__header-content"},e.children),(0,a.createElement)(A.Dismiss,null)),A.Title=e=>(0,a.createElement)("h1",{className:"ncs4-popup__popup-title"},e.title),A.Body=e=>(0,a.createElement)("div",{className:"ncs4-popup__popup-body"},e.children),A.className="ncs4-popup",A.sizeOptions=[{value:"size-alert",label:"Alert"},{value:"size-small",label:"Small"},{value:"size-body",label:"Medium (body size)"},{value:"size-large",label:"Large"}],A.linkOptions=[{value:"",label:"Link"},{value:"ncs4-button ncs4-button__blue",label:"Blue button"},{value:"ncs4-button ncs4-button__yellow",label:"Yellow button"},{value:"ncs4-button ncs4-button__gold",label:"Gold button"}];var F=A;function D(e){return(0,a.createElement)(a.Fragment,null,e.useInlineSvg?(0,a.createElement)("div",{dangerouslySetInnerHTML:{__html:e.img.data}}):(0,a.createElement)("embed",{type:e.img.mime,src:e.img.url}))}(0,d.registerStore)("ncs4/popup",{selectors:t,actions:l,reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ids:[]},{id:t,type:l}=arguments.length>1?arguments[1]:void 0;switch(t=Number(t),l){case"CREATE":let l=[],n=0,a=!1;for(let o=0;o<e.ids.length;o++)!a&&e.ids[o]>t&&(l[n]=t,a=!0,n++),l[n]=e.ids[o],n++;return a||(l[l.length]=t),{...e,ids:l};case"DELETE":return{...e,ids:e.ids.filter((e=>e!==t))};default:return e}}});const U=e=>({marginLeft:"left"==e.align?0:"auto",marginRight:"right"==e.align?0:"auto"});function H(e){return e.useInlineSvg=null==e.useInlineSvg||e.useInlineSvg,(0,a.createElement)(r.MediaUploadCheck,null,(0,a.createElement)(r.MediaUpload,{onSelect:e.onChange,value:e.img?e.img.id:null,allowedTypes:["image"],render:t=>{let{open:l}=t;return(0,a.createElement)(m.Button,{className:e.img?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:l},e.img?"image/svg+xml"===e.img.mime&&e.img.data?(0,a.createElement)(D,{img:e.img,useInlineSvg:e.useInlineSvg,style:U(e)}):(0,a.createElement)("img",{src:e.img.url,style:U(e)}):"Choose an image")}}))}function $(e){let t=e.img&&"image/svg+xml"===e.img.mime&&e.img.data;return e.useInlineSvg=null==e.useInlineSvg||e.useInlineSvg,(0,a.createElement)(a.Fragment,null,t&&!e.useInlineSvg?(0,a.createElement)("embed",{type:e.img.mine,src:e.img.url}):(0,a.createElement)("div",n({},e,t?{dangerouslySetInnerHTML:{__html:e.img.data,style:U(e)}}:{}),e.img&&!t?(0,a.createElement)("img",{src:e.img.url,style:U(e)}):null))}function V(e){return(0,a.createElement)("div",n({},e.blockProps,{className:["ncs4-description-popup",F.className,e.blockProps.className].join(" ")}),(0,a.createElement)("h2",{className:"ncs4-description-popup__name"},e.attributes.name),e.backend?(0,a.createElement)(r.RichText,{className:"ncs4-description-popup__description",tagName:"p",value:e.attributes.desc,onChange:e.onDescChange,placeHolder:"Description"}):(0,a.createElement)(r.RichText.Content,{className:"ncs4-description-popup__description",tagName:"p",value:e.attributes.normalizedDesc}),!e.backend&&(0,a.createElement)(F,{attributes:e.attributes,backend:e.backend},(0,a.createElement)(F.Header,null,(0,a.createElement)(F.Title,{title:e.attributes.name})),(0,a.createElement)(F.Body,null,(0,a.createElement)("p",{className:"ncs4-description-popup__popup-description"},e.attributes.desc),(0,a.createElement)(Z,{img:e.attributes.img,showButton:e.attributes.showButton,buttonLink:e.attributes.buttonLink,buttonStyle:e.attributes.buttonStyle,buttonText:e.attributes.buttonText}))),(0,a.createElement)(Z,{img:e.attributes.img,showButton:e.attributes.showButton,buttonLink:e.attributes.buttonLink,buttonStyle:e.attributes.buttonStyle,buttonText:e.attributes.buttonText}))}function Z(e){return(0,a.createElement)("div",{className:"ncs4-description-popup__footer"},(0,a.createElement)($,{className:"ncs4-description-popup__img",img:e.img,useInlineSvg:!1,align:"left"}),e.showButton&&(0,a.createElement)("a",{href:e.buttonLink,className:"ncs4-button ncs4-button__"+e.buttonStyle},e.buttonText))}function J(e){let t=e.save;return t||console.error("Prop 'save' is null or undefined. React component expected"),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},(0,a.createElement)(t,n({},e,{style:{...e.style,flex:"0 1 840px"},attributes:e.state,blockProps:e.blockProps,backend:!0}))),(0,a.createElement)(r.InspectorControls,null,e.controlPanels.map(((t,l)=>(0,a.createElement)(q,n({},t,{state:e.state,setAttribute:e.setAttribute,key:l}))))))}function q(e){let t=null==e.initialOpen||e.initialOpen,l=e.setAttribute,o=e.state;return(0,a.createElement)(m.PanelBody,{title:e.label,initialOpen:t},e.controls.map(((e,t)=>{if(e.disabled)return null;switch(e.type){case"text":return(0,a.createElement)(m.TextControl,n({},e,{key:t,value:o[e.attribute],onChange:l(e.attribute)}));case"unit":return(0,a.createElement)(E,n({},e,{key:t,toggleSelector:e.useToggle?{attribute:"enabled",label:e.toggleLabel,help:e.toggleHelp,value:o[e.attribute.enabled]}:{},unitSelector:{label:e.selectorLabel,value:o[e.attribute.unit],units:e.selectorChoices},slider:{label:e.sliderLabel,help:e.sliderHelp,value:o[e.attribute.value]},onChange:t=>l(e.attribute)(t[e.attribute])}));case"color":return(0,a.createElement)(B,n({},e,{key:t,value:o[e.attribute].color,onChange:l(e.attribute)}));case"image":return(0,a.createElement)(H,n({},e,{onChange:t=>function(e,t){arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||"image/svg+xml"!==e.mime?t(e):fetch(e.url).then((e=>e.text())).then((l=>{e.data=l,t(e)}))}(t,l(e.attribute)),img:o[e.attribute]}));case"choice":return(0,a.createElement)(g,{options:[{...e,value:o[e.attribute]}],key:t,type:e.type,onChange:t=>l(e.attribute)(t[e.attribute])});case"phone":return(0,a.createElement)(x,n({},e,{key:t,value:o[e.attribute],onChange:l(e.attribute)}));case"email":return(0,a.createElement)(k,n({},e,{key:t,value:o[e.attribute],onChange:l(e.attribute)}));default:console.error("ControlPanel: Invalid control type '"+e.type+"'")}})))}const G=e=>t=>{e(((e,l)=>Object.assign({},e,t)))};function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,l]=(0,u.useState)(e);return[t,G(l)]}function K(e){let[t,l,o]=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},[a,o]=Y(l),r=l=>a=>{o({[l]:a}),t({[l]:"function"==typeof n[l]&&n[l].length<=2?n[l](a,e):a})};return[a,r,e=>{for(let t in e)r(t)(e[t])}]}(e.attributes,e.setAttributes,{...e.attributes},{name:e=>e.trim(),desc:e=>e.trim(),buttonText:e=>e.trim()}),r=function(e,t,l,n){return((e,t,l)=>{(0,u.useEffect)((()=>{let{createId:t,deleteId:n}=(0,d.dispatch)("ncs4/popup"),a=(0,d.select)("ncs4/popup").requestId(e);return-1===a&&(a=e),l(a),t(a),()=>{(0,d.dispatch)("ncs4/popup").deleteId(a)}}),[t])})(t.popupId,e,l("popupId")),C(t.popupBgColor,l("popupBgColor")),C(t.popupTextColor,l("popupTextColor")),{label:"Popup settings",controls:(a=n,[{type:"text",label:"Button title",placeholder:"Show",attribute:"popupButtonTitle",disabled:a.popupButtonTitle},{type:"color",label:"Popup background",attribute:"popupBgColor",disabled:a.popupBgColor},{type:"color",label:"Popup text",attribute:"popupTextColor",disabled:a.popupTextColor},{type:"choice",label:"Use shadow below header",attribute:"popupShadow",disabled:a.popupShadow},{type:"choice",label:"Overlay opacity",attribute:"popupOverlayOpacity",min:0,max:100,step:1,markStep:20,markRender:e=>String(e)+"%",disabled:a.popupOverlayOpacity},{type:"choice",label:"Content size",attribute:"popupSize",choices:A.sizeOptions,disabled:a.popupSize},{type:"choice",label:"Link style",attribute:"popupLinkStyle",choices:A.linkOptions}])};var a}(e.blockProps.clientId,t,l,{popupOverlayOpacity:!0});return(0,u.useEffect)((()=>{t.desc||(t.desc=""),l("normalizedDesc")(function(e,t){let l,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=i(e);if(o.length===t)return o.toString();if(o.length<=t){let e=a?t-3-o.length:t-o.length;l=o.toString(),l+=n?" "+"&nbsp;".repeat(e-1):" ".repeat(e)}else o=o.slice(0,a?t-3:t),l=o.toString(),l+=a?"...":"";return l}(t.desc.trim(),400))}),[t.desc]),(0,a.createElement)(J,n({},e,{save:V,state:t,setAttribute:l,controlPanels:[{label:"Block settings",controls:[{type:"text",label:"Title",placeholder:"Best Practices Guide",attribute:"name"},{type:"image",label:"Footer image",attribute:"img"},{type:"choice",label:"Use footer button",help:t.showButton?"Footer button visible":"Footer button invisible",attribute:"showButton"},{type:"text",label:"Footer button text",help:"The text displayed by the button",attribute:"buttonText",disabled:!t.showButton},{type:"text",label:"Footer button link",help:"The link for the button",attribute:"buttonLink",disabled:!t.showButton}]},r]}))}const Q=Object.assign((W={popupButtonTitle:"Read More"},{popupOverlayOpacity:{type:"int",source:"attribute",attribute:"data-popup-opacity",selector:".ncs4-popup__popup-overlay",default:(W=Object.assign({popupOverlayOpacity:90,popupBgColor:{color:null,slug:"white-bright"},popupTextColor:{color:null,slug:"secondary-1c"},popupButtonTitle:"Show",popupId:0,popupSize:"size-body",popupLinkStyle:"",popupShadow:!1},W)).popupOverlayOpacity},popupBgColor:{type:"json",source:"attribute",attribute:"data-popup-background",selector:".ncs4-popup-content",default:W.popupBgColor},popupTextColor:{type:"json",source:"attribute",attribute:"data-popup-color",selector:".ncs4-popup-content",default:W.popupTextColor},popupButtonTitle:{type:"string",source:"text",selector:".ncs4-popup-button",default:W.popupButtonTitle},popupId:{type:"int",source:"attribute",attribute:"data-popup-id",selector:".ncs4-popup__wrapper",default:W.popupId},popupSize:{type:"string",source:"attribute",attribute:"data-popup-size",selector:".ncs4-popup-content",default:W.popupSize},popupLinkStyle:{type:"string",source:"attribute",attribute:"data-popup-link-style",selector:".ncs4-popup-button",default:W.popupLinkStyle},popupShadow:{type:"bool",source:"attribute",attribute:"data-popup-shadow",selector:".ncs4-popup-content",default:W.popupShadow}}),{name:{type:"string",source:"text",selector:".ncs4-description-popup__name",default:"Title"},desc:{type:"string",source:"html",selector:".ncs4-description-popup__popup-description",default:"Lorem ipsum dolor sit amet"},normalizedDesc:{type:"string",source:"html",selector:".ncs4-description-popup__description"},img:{type:"object"},showButton:{type:"boolean",default:!0},buttonText:{type:"string",default:"More info"},buttonLink:{type:"string",default:""},buttonStyle:{type:"string",default:"blue"}});var W;(0,o.registerBlockType)("ncs4-custom-blocks/description-popup",{apiVersion:2,title:"Description Popup",icon:"format-aside",category:"layout",attributes:Q,edit:e=>(0,a.createElement)(K,n({},e,{attributes:s(Q,e.attributes),blockProps:(0,r.useBlockProps)()})),save:e=>(0,a.createElement)(V,n({},e,{attributes:s(Q,e.attributes),blockProps:r.useBlockProps.save()}))})}();